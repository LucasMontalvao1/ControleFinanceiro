2026-01-31 19:46:25.112 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 19:46:26.631 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 19:46:27.374 -03:00 [FTL] A API falhou ao iniciar!
MySql.Data.MySqlClient.MySqlException (0x80004005): Authentication to host 'localhost' for user 'root' using method 'caching_sha2_password' failed with message: Unknown database 'controlefinanceiro'
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Unknown database 'controlefinanceiro'
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.AuthenticationFailed(MySqlException ex)
   at MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.ContinueAuthenticationAsync(Boolean execAsync, Byte[] data)
   at MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.AuthenticateAsync(Boolean reset, Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.AuthenticateAsync(String authMethod, Boolean reset, Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.Open()
   at ControleFinanceiro.Infrastructure.Persistence.DatabaseInitializer.Initialize() in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\DatabaseInitializer.cs:line 24
   at Program.<Main>$(String[] args) in C:\dev\ControleFinanceiro\ControleFinanceiro.API\Program.cs:line 61
2026-01-31 19:50:01.733 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 19:50:02.413 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 19:50:02.855 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 19:50:02.938 -03:00 [INF] Aplicando migração: V000__Create_MigrationHistory.sql
2026-01-31 19:50:02.950 -03:00 [INF] Migração V000__Create_MigrationHistory.sql aplicada com sucesso.
2026-01-31 19:50:02.953 -03:00 [INF] Aplicando migração: V001__Create_Users_Table.sql
2026-01-31 19:50:02.995 -03:00 [INF] Migração V001__Create_Users_Table.sql aplicada com sucesso.
2026-01-31 19:50:02.997 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 19:50:03.120 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 19:50:03.284 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 19:50:03.288 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 19:50:03.316 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 19:50:03.320 -03:00 [INF] Hosting environment: Development
2026-01-31 19:50:03.322 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 19:50:34.720 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 19:50:35.388 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 19:50:35.812 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 19:50:35.872 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 19:50:35.979 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 19:50:36.122 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 19:50:36.126 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 19:50:36.153 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 19:50:36.155 -03:00 [INF] Hosting environment: Development
2026-01-31 19:50:36.157 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:00:24.479 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:00:25.214 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:00:25.779 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:00:25.830 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:00:25.851 -03:00 [INF] Aplicando migração: V000__Create_MigrationHistory.sql
2026-01-31 20:00:25.863 -03:00 [INF] Migração V000__Create_MigrationHistory.sql aplicada com sucesso.
2026-01-31 20:00:25.869 -03:00 [INF] Aplicando migração: V001__Create_Users_Table.sql
2026-01-31 20:00:25.908 -03:00 [INF] Migração V001__Create_Users_Table.sql aplicada com sucesso.
2026-01-31 20:00:25.910 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:00:26.016 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:00:26.218 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:00:26.220 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:00:26.250 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:00:26.254 -03:00 [INF] Hosting environment: Development
2026-01-31 20:00:26.256 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:00:27.116 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/v1 - null null
2026-01-31 20:00:27.304 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:00:27.341 -03:00 [INF] Write content with HTTP Response ContentType of text/html
2026-01-31 20:00:27.359 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:00:27.366 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/v1 - 200 null text/html 255.4796ms
2026-01-31 20:00:27.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - null null
2026-01-31 20:00:27.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - null null
2026-01-31 20:00:27.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.js - null null
2026-01-31 20:00:27.382 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:00:27.371 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 20:00:27.395 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:00:27.406 -03:00 [INF] Sending file with download name ''.
2026-01-31 20:00:27.406 -03:00 [INF] Sending file with download name ''.
2026-01-31 20:00:27.411 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 40.3531ms
2026-01-31 20:00:27.411 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:00:27.424 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - 200 418 text/javascript 53.2309ms
2026-01-31 20:00:27.435 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.5967ms
2026-01-31 20:00:27.448 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:00:27.451 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.js - 200 2699931 text/javascript 80.811ms
2026-01-31 20:00:27.636 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/openapi/v1.json - null null
2026-01-31 20:00:27.641 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:00:27.649 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:00:27.652 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/openapi/v1.json - 200 null application/json;charset=utf-8 15.887ms
2026-01-31 20:00:28.445 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/favicon.ico - null null
2026-01-31 20:00:28.452 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/favicon.ico - 404 0 null 6.7087ms
2026-01-31 20:00:28.457 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7058/favicon.ico, Response status code: 404
2026-01-31 20:02:09.958 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 67
2026-01-31 20:02:09.967 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:02:09.997 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:02:14.642 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 4633.5492ms
2026-01-31 20:02:14.646 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:02:14.686 -03:00 [ERR] Ocorreu um erro não tratado: Field 'Username' doesn't have a default value
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'Username' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ControleFinanceiro.Infrastructure.Persistence.Repositories.UsuarioRepository.AddAsync(Usuario usuario) in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\Repositories\UsuarioRepository.cs:line 45
   at ControleFinanceiro.Application.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\dev\ControleFinanceiro\ControleFinanceiro.Application\Services\AuthService.cs:line 47
   at ControleFinanceiro.API.Controllers.AuthController.Register(RegisterRequest request) in C:\dev\ControleFinanceiro\ControleFinanceiro.API\Controllers\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleFinanceiro.API.Middleware.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\dev\ControleFinanceiro\ControleFinanceiro.API\Middleware\GlobalErrorHandlingMiddleware.cs:line 21
2026-01-31 20:02:14.722 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 500 null application/problem+json 4764.7936ms
2026-01-31 20:05:06.843 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:05:07.756 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:05:08.381 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:05:08.409 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:05:08.429 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:05:08.538 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:05:08.701 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:05:08.703 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:05:08.734 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:05:08.738 -03:00 [INF] Hosting environment: Development
2026-01-31 20:05:08.741 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:05:09.292 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/v1 - null null
2026-01-31 20:05:09.461 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:05:09.498 -03:00 [INF] Write content with HTTP Response ContentType of text/html
2026-01-31 20:05:09.518 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:05:09.529 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/v1 - 200 null text/html 241.964ms
2026-01-31 20:05:09.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - null null
2026-01-31 20:05:09.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.js - null null
2026-01-31 20:05:09.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 20:05:09.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - null null
2026-01-31 20:05:09.576 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:05:09.586 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:05:09.593 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 60.6371ms
2026-01-31 20:05:09.598 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:05:09.598 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:05:09.602 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:05:09.604 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:05:09.606 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.js - 304 null null 73.5877ms
2026-01-31 20:05:09.608 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - 304 null null 75.467ms
2026-01-31 20:05:09.609 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.5582ms
2026-01-31 20:05:09.870 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/openapi/v1.json - null null
2026-01-31 20:05:09.876 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:05:09.885 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:05:09.888 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/openapi/v1.json - 200 null application/json;charset=utf-8 18.2826ms
2026-01-31 20:08:17.387 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 67
2026-01-31 20:08:17.397 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:08:17.449 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:08:17.792 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.AuthResponse'.
2026-01-31 20:08:17.804 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 345.1515ms
2026-01-31 20:08:17.808 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:08:17.812 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 200 null application/json; charset=utf-8 424.9629ms
2026-01-31 20:15:07.367 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:15:08.271 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:15:08.998 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:15:09.025 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:15:09.050 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:15:09.164 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:15:09.316 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:15:09.320 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:15:09.352 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:15:09.355 -03:00 [INF] Hosting environment: Development
2026-01-31 20:15:09.358 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:15:09.877 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/v1 - null null
2026-01-31 20:15:10.046 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:15:10.080 -03:00 [INF] Write content with HTTP Response ContentType of text/html
2026-01-31 20:15:10.099 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:15:10.106 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/v1 - 200 null text/html 234.9598ms
2026-01-31 20:15:10.115 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 20:15:10.115 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - null null
2026-01-31 20:15:10.115 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.js - null null
2026-01-31 20:15:10.115 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - null null
2026-01-31 20:15:10.130 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 15.2807ms
2026-01-31 20:15:10.137 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:15:10.141 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:15:10.158 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:15:10.158 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:15:10.159 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.979ms
2026-01-31 20:15:10.160 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:15:10.162 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:15:10.170 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - 304 null null 55.1801ms
2026-01-31 20:15:10.171 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.js - 304 null null 56.6752ms
2026-01-31 20:15:10.282 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/openapi/v1.json - null null
2026-01-31 20:15:10.288 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:15:10.299 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:15:10.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/openapi/v1.json - 200 null application/json;charset=utf-8 21.3148ms
2026-01-31 20:15:29.498 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:15:30.235 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:15:30.787 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:15:30.815 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:15:30.834 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:15:30.938 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:15:31.092 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:15:31.095 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:15:31.136 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:15:31.138 -03:00 [INF] Hosting environment: Development
2026-01-31 20:15:31.140 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:15:31.510 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/v1 - null null
2026-01-31 20:15:31.658 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:15:31.703 -03:00 [INF] Write content with HTTP Response ContentType of text/html
2026-01-31 20:15:31.720 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:15:31.727 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/v1 - 200 null text/html 221.8962ms
2026-01-31 20:15:31.732 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - null null
2026-01-31 20:15:31.731 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.js - null null
2026-01-31 20:15:31.731 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 20:15:31.751 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:15:31.731 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - null null
2026-01-31 20:15:31.767 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:15:31.769 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 38.1998ms
2026-01-31 20:15:31.769 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:15:31.770 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:15:31.777 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:15:31.779 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:15:31.782 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.js - 304 null null 51.3114ms
2026-01-31 20:15:31.784 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - 304 null null 53.4204ms
2026-01-31 20:15:31.785 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.2109ms
2026-01-31 20:15:31.889 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/openapi/v1.json - null null
2026-01-31 20:15:31.895 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:15:31.905 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:15:31.908 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/openapi/v1.json - 200 null application/json;charset=utf-8 18.9952ms
2026-01-31 20:15:49.419 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 38
2026-01-31 20:15:49.425 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:49.469 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:15:49.561 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:15:49.590 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 110.8161ms
2026-01-31 20:15:49.596 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:49.600 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 400 null application/problem+json; charset=utf-8 181.1879ms
2026-01-31 20:15:54.926 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 39
2026-01-31 20:15:54.938 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:54.941 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:15:54.954 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:15:54.957 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 8.4523ms
2026-01-31 20:15:54.960 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:54.963 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 400 null application/problem+json; charset=utf-8 36.3642ms
2026-01-31 20:15:58.021 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 40
2026-01-31 20:15:58.025 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:58.027 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:15:58.061 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 20:15:58.069 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 38.5785ms
2026-01-31 20:15:58.072 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:15:58.075 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 401 null application/json; charset=utf-8 54.9466ms
2026-01-31 20:16:18.189 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 95
2026-01-31 20:16:18.198 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:16:18.208 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:16:18.222 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:16:18.228 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 14.3562ms
2026-01-31 20:16:18.231 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:16:18.234 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 400 null application/problem+json; charset=utf-8 44.9364ms
2026-01-31 20:16:29.390 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 99
2026-01-31 20:16:29.401 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:16:29.404 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:16:29.695 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.AuthResponse'.
2026-01-31 20:16:29.701 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 288.7882ms
2026-01-31 20:16:29.705 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:16:29.707 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 200 null application/json; charset=utf-8 317.8898ms
2026-01-31 20:16:41.815 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 44
2026-01-31 20:16:41.825 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:16:41.827 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:16:42.029 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 20:16:42.034 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 202.3347ms
2026-01-31 20:16:42.037 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:16:42.040 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 401 null application/json; charset=utf-8 225.0029ms
2026-01-31 20:16:51.266 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 49
2026-01-31 20:16:51.275 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:16:51.278 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:16:51.409 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.AuthResponse'.
2026-01-31 20:16:51.412 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 129.4841ms
2026-01-31 20:16:51.415 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:16:51.418 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 200 null application/json; charset=utf-8 151.9459ms
2026-01-31 20:21:56.375 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:21:57.123 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:21:57.555 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:21:57.618 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:21:57.640 -03:00 [INF] Aplicando migração: V000__Create_MigrationHistory.sql
2026-01-31 20:21:57.654 -03:00 [INF] Migração V000__Create_MigrationHistory.sql aplicada com sucesso.
2026-01-31 20:21:57.657 -03:00 [INF] Aplicando migração: V001__Create_Users_Table.sql
2026-01-31 20:21:57.698 -03:00 [INF] Migração V001__Create_Users_Table.sql aplicada com sucesso.
2026-01-31 20:21:57.700 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:21:57.815 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:21:57.964 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:21:57.967 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:21:57.992 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:21:57.994 -03:00 [INF] Hosting environment: Development
2026-01-31 20:21:57.997 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:24:13.555 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:24:14.426 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:24:14.959 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:24:14.986 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:24:15.009 -03:00 [INF] Aplicando migração: V002__Create_Categories_Table.sql
2026-01-31 20:24:15.067 -03:00 [ERR] Falha ao aplicar a migração V002__Create_Categories_Table.sql.
MySql.Data.MySqlClient.MySqlException (0x80004005): Referencing column 'UsuarioId' and referenced column 'Id' in foreign key constraint 'FK_Categorias_Usuarios' are incompatible.
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2994
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 685
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 556
   at ControleFinanceiro.Infrastructure.Persistence.DatabaseInitializer.Initialize() in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\DatabaseInitializer.cs:line 77
2026-01-31 20:24:15.103 -03:00 [FTL] A API falhou ao iniciar!
MySql.Data.MySqlClient.MySqlException (0x80004005): Referencing column 'UsuarioId' and referenced column 'Id' in foreign key constraint 'FK_Categorias_Usuarios' are incompatible.
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2994
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 685
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 556
   at ControleFinanceiro.Infrastructure.Persistence.DatabaseInitializer.Initialize() in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\DatabaseInitializer.cs:line 77
   at Program.<Main>$(String[] args) in C:\dev\ControleFinanceiro\ControleFinanceiro.API\Program.cs:line 74
2026-01-31 20:37:13.590 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:37:14.406 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:37:14.822 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:37:14.846 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:37:14.867 -03:00 [INF] Aplicando migração: V002__Create_Categories_Table.sql
2026-01-31 20:37:14.922 -03:00 [ERR] Falha ao aplicar a migração V002__Create_Categories_Table.sql.
MySql.Data.MySqlClient.MySqlException (0x80004005): Referencing column 'UsuarioId' and referenced column 'Id' in foreign key constraint 'FK_Categorias_Usuarios' are incompatible.
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2994
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 685
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 556
   at ControleFinanceiro.Infrastructure.Persistence.DatabaseInitializer.Initialize() in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\DatabaseInitializer.cs:line 77
2026-01-31 20:37:14.961 -03:00 [FTL] A API falhou ao iniciar!
MySql.Data.MySqlClient.MySqlException (0x80004005): Referencing column 'UsuarioId' and referenced column 'Id' in foreign key constraint 'FK_Categorias_Usuarios' are incompatible.
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2994
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 685
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 556
   at ControleFinanceiro.Infrastructure.Persistence.DatabaseInitializer.Initialize() in C:\dev\ControleFinanceiro\ControleFinanceiro.Infrastructure\Persistence\DatabaseInitializer.cs:line 77
   at Program.<Main>$(String[] args) in C:\dev\ControleFinanceiro\ControleFinanceiro.API\Program.cs:line 87
2026-01-31 20:38:14.693 -03:00 [INF] Iniciando a API de Controle Financeiro...
2026-01-31 20:38:15.210 -03:00 [INF] Iniciando a inicialização automática do banco de dados...
2026-01-31 20:38:15.767 -03:00 [INF] Garantido que o banco de dados 'ControleFinanceiro' existe.
2026-01-31 20:38:15.819 -03:00 [INF] Buscando scripts SQL em: C:\dev\ControleFinanceiro\ControleFinanceiro.API\bin\Debug\net10.0\Persistence\Scripts
2026-01-31 20:38:15.841 -03:00 [INF] Aplicando migração: V000__Create_MigrationHistory.sql
2026-01-31 20:38:15.855 -03:00 [INF] Migração V000__Create_MigrationHistory.sql aplicada com sucesso.
2026-01-31 20:38:15.857 -03:00 [INF] Aplicando migração: V001__Create_Users_Table.sql
2026-01-31 20:38:15.896 -03:00 [INF] Migração V001__Create_Users_Table.sql aplicada com sucesso.
2026-01-31 20:38:15.899 -03:00 [INF] Aplicando migração: V002__Create_Categories_Table.sql
2026-01-31 20:38:15.946 -03:00 [INF] Migração V002__Create_Categories_Table.sql aplicada com sucesso.
2026-01-31 20:38:15.949 -03:00 [INF] Inicialização do banco de dados finalizada.
2026-01-31 20:38:16.062 -03:00 [INF] User profile is available. Using 'C:\Users\lucas.montalvao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 20:38:16.265 -03:00 [INF] Now listening on: https://localhost:7058
2026-01-31 20:38:16.268 -03:00 [INF] Now listening on: http://localhost:5172
2026-01-31 20:38:16.301 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 20:38:16.304 -03:00 [INF] Hosting environment: Development
2026-01-31 20:38:16.307 -03:00 [INF] Content root path: C:\dev\ControleFinanceiro\ControleFinanceiro.API
2026-01-31 20:38:16.881 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/v1 - null null
2026-01-31 20:38:17.013 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:38:17.053 -03:00 [INF] Write content with HTTP Response ContentType of text/html
2026-01-31 20:38:17.072 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2026-01-31 20:38:17.082 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/v1 - 200 null text/html 206.8233ms
2026-01-31 20:38:17.089 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 20:38:17.089 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - null null
2026-01-31 20:38:17.090 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/scalar/scalar.js - null null
2026-01-31 20:38:17.105 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:38:17.089 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - null null
2026-01-31 20:38:17.112 -03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:38:17.109 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 20.2706ms
2026-01-31 20:38:17.122 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:38:17.122 -03:00 [INF] Setting HTTP status code 304.
2026-01-31 20:38:17.129 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2026-01-31 20:38:17.131 -03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2026-01-31 20:38:17.133 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.aspnetcore.js - 304 null null 43.87ms
2026-01-31 20:38:17.134 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/scalar/scalar.js - 304 null null 44.6938ms
2026-01-31 20:38:17.154 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.4576ms
2026-01-31 20:38:17.210 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/openapi/v1.json - null null
2026-01-31 20:38:17.217 -03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:38:17.227 -03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2026-01-31 20:38:17.231 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/openapi/v1.json - 200 null application/json;charset=utf-8 20.5132ms
2026-01-31 20:38:32.024 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 38
2026-01-31 20:38:32.034 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:38:32.036 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:38:32.058 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:38:32.118 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:38:32.142 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 76.0512ms
2026-01-31 20:38:32.147 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:38:32.149 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 400 null application/problem+json; charset=utf-8 125.109ms
2026-01-31 20:38:38.342 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 40
2026-01-31 20:38:38.352 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:38:38.354 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:38:38.357 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:38:38.393 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 20:38:38.400 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 37.159ms
2026-01-31 20:38:38.403 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:38:38.406 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 401 null application/json; charset=utf-8 64.1904ms
2026-01-31 20:38:45.114 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 67
2026-01-31 20:38:45.123 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:38:45.124 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:38:45.134 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:38:45.154 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:38:45.159 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 17.7675ms
2026-01-31 20:38:45.163 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:38:45.167 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 400 null application/problem+json; charset=utf-8 53.5804ms
2026-01-31 20:39:07.902 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/register - application/json 98
2026-01-31 20:39:07.910 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:39:07.913 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:39:07.916 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControleFinanceiro.Application.DTOs.RegisterRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:39:08.151 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.AuthResponse'.
2026-01-31 20:39:08.157 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API) in 234.6316ms
2026-01-31 20:39:08.161 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Register (ControleFinanceiro.API)'
2026-01-31 20:39:08.163 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/register - 200 null application/json; charset=utf-8 260.8281ms
2026-01-31 20:39:18.543 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Auth/login - application/json 49
2026-01-31 20:39:18.551 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:39:18.552 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:39:18.553 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ControleFinanceiro.Application.DTOs.LoginRequest) on controller ControleFinanceiro.API.Controllers.AuthController (ControleFinanceiro.API).
2026-01-31 20:39:18.816 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.AuthResponse'.
2026-01-31 20:39:18.822 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API) in 266.6786ms
2026-01-31 20:39:18.825 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.AuthController.Login (ControleFinanceiro.API)'
2026-01-31 20:39:18.828 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Auth/login - 200 null application/json; charset=utf-8 284.8644ms
2026-01-31 20:40:30.396 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - null null
2026-01-31 20:40:30.415 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-31 20:40:30.420 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-31 20:40:30.423 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 401 0 null 27.5677ms
2026-01-31 20:42:34.419 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:34.460 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:34.473 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:34.488 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:34.493 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 16.6486ms
2026-01-31 20:42:34.495 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:34.497 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 77.8627ms
2026-01-31 20:42:35.359 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:35.369 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:35.372 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:35.379 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:35.383 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 6.9993ms
2026-01-31 20:42:35.387 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:35.390 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 30.7206ms
2026-01-31 20:42:35.907 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:35.916 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:35.918 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:35.923 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:35.926 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 6.4315ms
2026-01-31 20:42:35.928 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:35.930 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 23.0586ms
2026-01-31 20:42:36.118 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:36.125 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:36.128 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:36.134 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:36.136 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 4.0248ms
2026-01-31 20:42:36.139 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:36.141 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 22.8111ms
2026-01-31 20:42:36.556 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:36.563 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:36.566 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:36.570 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:36.573 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 3.7902ms
2026-01-31 20:42:36.575 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:36.578 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 22.4325ms
2026-01-31 20:42:37.380 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:42:37.393 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:37.398 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:42:37.407 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:42:37.410 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 5.6329ms
2026-01-31 20:42:37.413 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:42:37.415 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 35.5777ms
2026-01-31 20:42:52.176 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Categorias - application/json 42
2026-01-31 20:42:52.184 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:42:52.186 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-31 20:42:52.189 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-31 20:42:52.193 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Categorias - 401 0 null 17.4251ms
2026-01-31 20:43:05.554 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Categorias - application/json 42
2026-01-31 20:43:05.560 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:43:05.562 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:05.572 -03:00 [INF] Route matched with {action = "Create", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ControleFinanceiro.Application.DTOs.CategoriaRequest) on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:05.585 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:43:05.591 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API) in 13.172ms
2026-01-31 20:43:05.595 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:05.598 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Categorias - 400 null application/problem+json; charset=utf-8 44.1416ms
2026-01-31 20:43:13.725 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Categorias - application/json 42
2026-01-31 20:43:13.735 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:43:13.738 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:13.741 -03:00 [INF] Route matched with {action = "Create", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ControleFinanceiro.Application.DTOs.CategoriaRequest) on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:13.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.CategoriaResponse'.
2026-01-31 20:43:13.765 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API) in 18.9544ms
2026-01-31 20:43:13.769 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:13.772 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 46.6826ms
2026-01-31 20:43:16.461 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:43:16.468 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:43:16.470 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:16.477 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:43:16.483 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 9.3612ms
2026-01-31 20:43:16.485 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:43:16.488 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 27.0049ms
2026-01-31 20:43:24.332 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Categorias - application/json 36
2026-01-31 20:43:24.339 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:43:24.341 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:24.342 -03:00 [INF] Route matched with {action = "Create", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ControleFinanceiro.Application.DTOs.CategoriaRequest) on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:24.349 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-31 20:43:24.353 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API) in 6.5ms
2026-01-31 20:43:24.355 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:24.357 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Categorias - 400 null application/problem+json; charset=utf-8 24.9951ms
2026-01-31 20:43:28.452 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7058/api/Categorias - application/json 43
2026-01-31 20:43:28.458 -03:00 [INF] CORS policy execution successful.
2026-01-31 20:43:28.460 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:28.462 -03:00 [INF] Route matched with {action = "Create", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ControleFinanceiro.Application.DTOs.CategoriaRequest) on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:28.473 -03:00 [INF] Executing OkObjectResult, writing value of type 'ControleFinanceiro.Application.DTOs.CategoriaResponse'.
2026-01-31 20:43:28.477 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API) in 11.2558ms
2026-01-31 20:43:28.482 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.Create (ControleFinanceiro.API)'
2026-01-31 20:43:28.486 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 33.573ms
2026-01-31 20:43:30.658 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 20:43:30.666 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:43:30.668 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 20:43:30.672 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 20:43:30.675 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 4.4751ms
2026-01-31 20:43:30.678 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 20:43:30.680 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 22.1687ms
2026-01-31 22:05:05.724 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7058/api/Categorias - application/json null
2026-01-31 22:05:05.736 -03:00 [INF] Executing endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 22:05:05.738 -03:00 [INF] Route matched with {action = "GetAll", controller = "Categorias"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ControleFinanceiro.API.Controllers.CategoriasController (ControleFinanceiro.API).
2026-01-31 22:05:05.803 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[ControleFinanceiro.Domain.Entities.Categoria, ControleFinanceiro.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ControleFinanceiro.Application.DTOs.CategoriaResponse, ControleFinanceiro.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 22:05:05.808 -03:00 [INF] Executed action ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API) in 67.6002ms
2026-01-31 22:05:05.811 -03:00 [INF] Executed endpoint 'ControleFinanceiro.API.Controllers.CategoriasController.GetAll (ControleFinanceiro.API)'
2026-01-31 22:05:05.813 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7058/api/Categorias - 200 null application/json; charset=utf-8 89.2495ms
